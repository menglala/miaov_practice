<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>升级版自动生成V字</title>
    <style type="text/css">
    ul {
        position: relative;
    }

    li {
        width: 50px;
        height: 50px;
        font-weight: bold;
        font-size: 28px;
        color: #fff;
        text-align: center;
        line-height: 50px;
        list-style: none;
        display: inline-block;
        position: absolute;
        background: red;
    }
    </style>
    <script type="text/javascript">
    window.onload = function() {
        var oBtn = document.getElementById('btn');
        var oUl = document.getElementById('list');
		var left=null;
        var top=null;
        str = '';
        flag = 1;

        oBtn.onclick = function() {

            if (flag == 1) {
            	str="";//!!!应该将str清零！！因为每次innerHTML=str，若只将innerHTML清空，当str赋值给innerHTML是时候，还是有上次的li

                for (var i = 0; i < 5; i++) {

                    left = i * 50 + 'px';
                    if (i < 5 / 2) {
                        top = (2 - i) * 50 + 'px';
                    } else {
                        top = (i - 2) * 50 + 'px';
                    }
                    str += '<li style="left:  ' + left + ';top:' + top + '">' + i + '</li>';
				}

                oUl.innerHTML = str;
                flag = 2;

            } else if (flag == 2) {
            	str="";

                for (var i = 0; i < 5; i++) {

                    if (i < 5 / 2) {
                        left = i * 50 + 'px';
                    } else {
                        left = (5 - i - 1) * 50 + 'px';
                    }

                    top = i * 50 + 'px';
                   str += '<li style="left:  ' + left + ';top:' + top + '">' + i + '</li>';
                }

                oUl.innerHTML = str;
                flag = 3;

            } else if (flag == 3) {
            	str="";

                for (var i = 0; i < 5; i++) {

                    left = i * 50 + 'px';
                    if (i < 5 / 2) {
                        top = i * 50 + 'px';
                    } else {
                        top = (5 - i - 1) * 50 + 'px';
                    }

                    str += '<li style="left:  ' + left + ';top:' + top + '">' + i + '</li>';
                }

                oUl.innerHTML = str;
                flag = 4;

            } else if (flag == 4) {
            	str="";

                for (var i = 0; i < 5; i++) {

                    top = i * 50 + 'px';
                    if (i < 5 / 2) {
                        left = (2 - i) * 50 + 'px';
                    } else {
                        left = (i - 2) * 50 + 'px';
                    }

                    str += '<li style="left:  ' + left + ';top:' + top + '">' + i + '</li>';
                }

                oUl.innerHTML = str;
                flag = 1;

            }
        }
    }
    </script>
</head>

<body>
    <button id="btn">自动生成魔幻版V字</button>
    <ul id="list"></ul>
</body>

</html>